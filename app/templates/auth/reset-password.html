{% extends "_base_page.html" %}

{% block pageTitle %}
  Reset password â€“ Digital Marketplace
{% endblock %}

{% block breadcrumb %}
  {{ govukBreadcrumbs({"items": [
    {
      "text": "Digital Marketplace",
      "href": "/",
    },
    {
      "text": "Reset password",
    },
  ]}) }}
{% endblock %}

{% block mainContent %}

  <h1 class="govuk-heading-xl">Reset password</h1>

  <p class="govuk-body-l">
    Reset password for {{ email_address }}
  </p>

  <form autocomplete="off" action="{{ url_for('.update_password', token=token) }}" method="POST">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        {{ form.hidden_tag() }}

        {{ govukInput({
          "label": {
            "text": form.password.label.text,
          },
          "hint": {
            "text": form.password.hint,
          },
          "errorMessage": errors.get('password', {}).get('errorMessage'),
          "id": "input-password",
          "type": "password",
          "name": "password",
          "value": form.password.data,
          "attributes": {
            "autocomplete": "off",
          },
        }) }}

        {{ govukInput({
          "label": {
            "text": form.confirm_password.label.text,
          },
          "errorMessage": errors.get('confirm_password', {}).get('errorMessage'),
          "id": "input-confirm_password",
          "type": "password",
          "name": "confirm_password",
          "value": form.confirm_password.data,
          "attributes": {
            "autocomplete": "off",
          },
        }) }}

        {{ govukButton({
          "text": "Reset password"
        }) }}
      </div>
    </div>
  </form>
{% endblock %}
